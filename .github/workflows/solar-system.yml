name: Solar System Workflow


on:
 workflow_dispatch:
 push:
   branches:
     - main
     - 'feature/*'

env:
   MONGO_URI: 'mongodb+srv://supercluster.d83jj.mongodb.net/superData'
   MONGO_USERNAME: ${{ vars.MONGO_USERNAME }}
   MONGO_PASSWORD: ${{ secrets.MONGO_PASSWORD }}     

jobs:
 unit-testing:
   runs-on: ubuntu-latest
   steps:
     - name: Checkout Code
       uses: actions/checkout@v2
    
     - name: Set up Node.js
       uses: actions/setup-node@v3
       with:
         node-version: 18
    
     - name: Install dependencies
       run: npm install
    
     - name: Run Unit Tests
       run: npm test
    
     - name: Archive Test Result
       uses: actions/upload-artifact@v3
       with:
         name: Mocha-Test-Result
         path: test-results.xml